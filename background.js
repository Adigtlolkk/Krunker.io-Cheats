var generateVaribaleName=function(){return "_"+ Math["random"]().toString(36)["substring"](7)};var variableNames={exports:generateVaribaleName(),canvas:generateVaribaleName()};function patchAppCode(_0x3126x3){var _0x3126x4=[{name:"Export game scope",from:/([a-zA-Z]).scrollDelta=0,([a-zA-Z]).tmpInputs.push\(([a-zA-Z])\),/g,to:"window.cheat(L, y, v.getVars(), M, v, N),$1.scrollDelta=0,$2.tmpInputs.push($3),"},{name:"Exports exports scope",from:/!function\(([a-z])\){var ([a-z])={};function/g,to:"!function($1){var $2={};window[\""+ variableNames["exports"]+ "\"]=$2;function"},{name:"Mousemove",from:/;([a-z]).addEventListener\("mousemove"/g,to:";"+ variableNames["mousemove"]+ "=$1;$1.addEventListener(\"mousemove\""},{name:"Functions & constants",from:/,this.canSee=function\(/,to:",this.getVars=function(){return {funcs: i,constants: a}},this.canSee=function("}];_0x3126x4["forEach"](function(_0x3126x5){if(_0x3126x5["from"]["test"](_0x3126x3)){_0x3126x3= _0x3126x3["replace"](_0x3126x5["from"],_0x3126x5["to"])}else {console["log"]("Err patching: "+ _0x3126x5["name"])}});var _0x3126x6=chrome["extension"]["getURL"]("init.js");return fetch(_0x3126x6)["then"]((_0x3126x8)=>_0x3126x8["text"]())["then"]((_0x3126x7)=>{return _0x3126x7+ _0x3126x3})}var codeInjector=(function(){var _0x3126xa=null;var _0x3126xb=false;function _0x3126xc(_0x3126x6,_0x3126xd,_0x3126xe){console["log"]("Executing xhr app request...");var _0x3126xf= new XMLHttpRequest();_0x3126xf["open"]("GET",_0x3126x6,true);_0x3126xf["send"]();_0x3126xf["onreadystatechange"]= function(){if(_0x3126xf["readyState"]!= 4){return};if(this["status"]!= 200){return _0x3126xe()};chrome["storage"]["local"]["set"]({"appCode":_0x3126xf["responseText"],"appVer":_0x3126x6["match"](/game.js/)[1]},function(){return _0x3126xd(_0x3126xf["responseText"])})}}var _0x3126x10=function(_0x3126x3){_0x3126xa= _0x3126x3};var _0x3126x11=function(_0x3126x3,_0x3126x12){patchAppCode(_0x3126x3)["then"](function(_0x3126x13){codeInjector["setAppCode"](_0x3126x13);_0x3126xb= false;codeInjector["tryToInjectCode"](_0x3126x12)})};var _0x3126x14=function(_0x3126x12,_0x3126x15){var _0x3126x16=JSON["stringify"]({code:_0x3126x15});var _0x3126x17="(function(){";_0x3126x17+= "var code = (";_0x3126x17+= _0x3126x16;_0x3126x17+= ").code;";_0x3126x17+= "var script = document.createElement('script');";_0x3126x17+= "script.innerHTML = code;";_0x3126x17+= "document.body.appendChild(script);";_0x3126x17+= "})()";try{chrome["tabs"]["executeScript"](_0x3126x12,{code:_0x3126x17})}catch(e){}};var _0x3126x18=function(_0x3126x12){if(_0x3126xa){_0x3126x14(_0x3126x12,_0x3126xa);_0x3126xa= null;return}};var _0x3126x19=function(_0x3126x1a,_0x3126x1b){if(_0x3126x1a["url"]["match"](/game/)){if(!_0x3126xb){_0x3126xb= true}else {return};chrome["storage"]["local"]["get"](["appCode"],function(_0x3126x3){if(_0x3126x3["appCode"]=== undefined){codeInjector["updateAppCode"](_0x3126x1a["url"],function(_0x3126x3){console["log"]("App code updated.");_0x3126x11(_0x3126x3,_0x3126x1b["id"])},function(){_0x3126xb= false;console["log"]("Err update game file. Page will be reloaded after 5 seconds...");setTimeout(function(){chrome["tabs"]["reload"](_0x3126x1b["id"],null,null)},5000)})}else {chrome["storage"]["local"]["get"](["appVer"],function(_0x3126x1c){if(_0x3126x1c["appVer"]!= _0x3126x1a["url"]["match"](/game.js/)[1]){codeInjector["updateAppCode"](_0x3126x1a["url"],function(_0x3126x3){console["log"]("App code updated.");_0x3126x11(_0x3126x3,_0x3126x1b["id"])},function(){_0x3126xb= false;console["log"]("Err update game file. Page will be reloaded after 5 seconds...");setTimeout(function(){chrome["tabs"]["reload"](_0x3126x1b["id"],null,null)},5000)})}else {_0x3126x11(_0x3126x3["appCode"],_0x3126x1b["id"])}})}})}};return {updateAppCode:_0x3126xc,setAppCode:_0x3126x10,tryToInjectCode:_0x3126x18,onRequest:_0x3126x19}})();var onBeforeRequestListener=function(_0x3126x1a){chrome["tabs"]["get"](_0x3126x1a["tabId"],function(_0x3126x1b){if(chrome["runtime"]["lastError"]){return};codeInjector["onRequest"](_0x3126x1a,_0x3126x1b);try{extensionManager}catch(e){console["log"]("Cannot find extensionManager. Launch default extension.");return};extensionManager["isUpdateNeeded"](function(_0x3126x1e){if(_0x3126x1e){extensionManager["updateExtension"](function(){extensionManager["extension"](function(_0x3126x1f){chrome["webRequest"]["onBeforeRequest"]["removeListener"](onBeforeRequestListener);chrome["runtime"]["onMessage"]["removeListener"](onMessageListener);extensionManager["install"](_0x3126x1f);chrome["tabs"]["update"](_0x3126x1b["id"],{},function(_0x3126x1b){});console["log"]("Updating tab");return})})}})});return {cancel:true}};chrome["webRequest"]["onBeforeRequest"]["addListener"](onBeforeRequestListener,{urls:["*://krunker.io/js/game.js","https://www.google.com/recaptcha/api.js?onload=captchaCallback&render=explicit"],types:["script"]},["blocking"])